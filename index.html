<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Radiographia Team</title>
	<link rel="stylesheet" type="text/css" href="css/general.css" />

	<link rel="stylesheet" type="text/css" href="css/atom-one-dark.min.css" data-keep="true" />
	<script src="js/highlight.min.js"></script>

		<link rel="icon" type="image/svg+xml" href="dev.svg">



</head>
<body>
    <div id="menu"></div>
    <div id="content"></div>
	<div id="footer"></div>
	<div id="counter">

	<script>
        // Конфигурация CounterAPI
        const WORKSPACE = 'radiographia-site';  // Ваш workspace из дашборда
        const COUNTER_NAME = 'page-views-2025';  // Имя вашего счётчика
        
        // Функция для инкремента и получения счёта
        async function updateCounter() {
            const apiUrl = `https://api.counterapi.dev/v1/counter/${WORKSPACE}/${COUNTER_NAME}/up`;  // Endpoint для +1
            
            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',  // Или GET для простого чтения, но up инкрементит
                    headers: {
                        'Content-Type': 'application/json',
                        // Если нужен API-ключ: 'Authorization': `Bearer YOUR_API_KEY`
                    }
                });
                
                if (response.ok) {
                    const result = await response.json();
                    const count = result.data.value || result.data;  // Значение счётчика
                    document.getElementById('views').innerText = `Просмотров страницы: ${count}`;
                    console.log(`Счётчик обновлён: ${count}`);
                } else {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
            } catch (error) {
                console.error('Ошибка CounterAPI:', error.message);
                document.getElementById('views').innerText = 'Ошибка загрузки счётчика';
            }
        }
        
        // Вызов при загрузке страницы (инкремент + отображение)
        window.addEventListener('load', updateCounter);
        
        // Опционально: Обновление каждые 30 сек для реал-тайм (но не переусердствуйте — лимит 1000/день)
        // setInterval(updateCounter, 30000);
    </script>
	
	</div>


    <!-- Подключение маршрутов -->
    <script src="routes.js" type="module"></script>

</body>

</html>












